{"version":3,"sources":["actions/index.js","components/MyWavesurfer.js","components/MyRegions.js","components/container/Waveform.js","components/keyboardShortcutsList.js","components/keyboardShortcutsFunction.js","components/container/Loop.js","components/container/Seek.js","components/container/Controls.js","components/presentational/QueueSong.js","components/container/Queue.js","components/container/Channel.js","components/presentational/MasterPlayPause.js","components/presentational/Crossfader.js","components/presentational/Bpm.js","components/presentational/Info.js","components/container/Help.js","components/container/MasterControls.js","components/presentational/BrowserSong.js","components/container/Browser.js","components/container/Master.js","components/container/App.js","serviceWorker.js","reducers/masterBpm.js","reducers/crossfade.js","reducers/allSongs.js","reducers/filteredSongs.js","reducers/sortBy.js","reducers/reverseSort.js","reducers/queues.js","reducers/channels.js","reducers/waveforms.js","reducers/index.js","index.js"],"names":["setBpm","bpm","type","setCrossfade","crossfade","shiftFromQueue","side","setChannelState","key","newValue","setPlaying","playing","setPos","pos","setRegionsState","MyWavesurfer","nextProps","nextState","seekToInNewFile","_this","this","newSource","props","audioFile","setState","isReady","_loadAudio","audioPeaks","mediaElt","_loadMediaElt","undefined","state","_wavesurfer","on","_seekTo","un","isPlaying","play","pause","volume","setVolume","zoom","options","audioRate","setPlaybackRate","backend","params","responsive","window","addEventListener","_handleResize","removeEventListener","Wavesurfer","connectedMyWavesurfer","connect","ownProps","waveform","waveforms","MyRegions","newRegionId","oldRegionId","oldRegions","Object","create","wavesurfer","regions","list","hasOwnProperty","call","newRegion","start","end","loop","color","update","_hookUpRegionEvents","addRegion","remove","Regions","Waveform","setAudioRate","givenAudioRate","channel","calculatedAudioRate","waveformOptions","setWaveformState","setLoop","givenLoop","handlePosChange","e","newPos","originalArgs","handleFinish","playNextFromQueue","handleRegionUpdateEnd","renderWaveform","react_default","a","createElement","components_MyWavesurfer","currentSong","url","calculatedVolume","onPosChange","onFinish","components_MyRegions","onRegionUpdateEnd","className","Component","connectedWaveform","channels","dispatch","keyboardShortcuts","help","double","shift","?","handleClick","seek","single","1","forwards","coarse","2","9","0","q","togglePlaying","p","!","@","(",")","S","loopStart","L","masterControls"," ","ArrowLeft","decrCrossfade","ArrowRight","incrCrossfade","ArrowUp","incrBpm","masterBpm","ArrowDown","decrBpm","meta","s","toggleLoop","l","moveLoop","moveStart","u","r","i","c","n","v","m","d","resizeLoop","fromStart","j","f","k","E","U","R","I","C","N","V","M","D","J","F","K","keyboardShortcutsFunction","singleShortcuts","shiftShortcuts","metaShortcuts","singleShortcutKeys","keys","shiftShortcutKeys","metaShortcutKeys","document","target","preventDefault","shiftKey","metaKey","forEach","bind","boundFn","Loop","_ref","amount","_ref2","console","log","newLength","length","loopHalf","loopDouble","renderLoopSettings","onClick","startBack","startForwards","endBack","endForwards","checked","onChange","Seek","playPause","back","Volume","orient","min","max","step","value","parseFloat","DoubleHalf","setBpmFactor","name","speed","concat","bpmFactor","displaySpeed","Controls","container_Seek","syncBpm","container_Loop","Controls_DoubleHalf","Controls_Volume","connectedControls","QueueSong","song","removeFromQueue","setCurrentSong","title","uuid","require","Queue","renderQueue","queue","map","presentational_QueueSong","newQueue","toConsumableArray","filter","setSideQueue","id","getElementById","Sortable","animation","handle","connectedQueue","queues","Channel","newVolume","newBpmFactor","newSong","revertToDefault","togglePitchShift","pitchShift","calculateAudioVolume","calculateAudioRate","songPlaybackRate","setInitialBpm","parseInt","container_Waveform","container_Controls","container_Queue","connectedChannel","MasterPlayPause","masterPlaying","Crossfader","Bpm","handleChange","Info","href","Help","shown","setInfoVisibility","button","querySelector","info","innerText","classList","add","clearHelpOnClick","parentElement","presentational_Info","MasterControls","leftPlaying","rightPlaying","style","display","presentational_MasterPlayPause","presentational_Crossfader","presentational_Bpm","container_Help","connectedMasterControls","left","right","BrowserSong","pushToQueue","browserFilterQuery","setBrowserFilterQuery","innerHTML","artist","apiUrl","Browser","classCallCheck","possibleConstructorReturn","getPrototypeOf","fetchAllSongs","fetch","then","songs","json","uploaded","setAllSongs","renderAllSongs","filteredSongs","presentational_BrowserSong","handleCheckboxChange","newTags","tags","push","g","query","clearQueries","querySelectorAll","filterSongs","newSongs","allSongs","toLowerCase","split","join","matchesTags","t","includes","setFilteredSongs","sortSongs","sortBy","sortedSongs","sort","b","paramA","paramB","localeCompare","reverseSort","reverse","sortByClass","param","setSortBy","setReverseSort","htmlFor","placeholder","connectedBrowser","Master","container_MasterControls","container_Browser","App","container_Channel","container_Master","Boolean","location","hostname","match","arguments","action","defaultQueues","newState","objectSpread","pushedNewState","pushedSideQueue","shiftedNewState","shiftedSideQueue","defaultChannel","defaultChannels","defineProperty","defaultWaveform","height","fillParent","scrollParent","interact","defaultWaveforms","combineReducers","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","container_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4d70af6e.chunk.js","sourcesContent":["export const setBpm = (bpm) => ({\n  type: 'SET_BPM',\n  bpm: bpm\n})\nexport const setCrossfade = (crossfade) => ({\n  type: 'SET_CROSSFADE',\n  crossfade: crossfade\n})\n\n/////////////////////////\n/////////////////////////\n\nexport const setAllSongs = (allSongs) => ({\n  type: 'SET_ALL_SONGS',\n  allSongs: allSongs\n})\n\n/////////////////////////\n/////////////////////////\n\nexport const setFilteredSongs = (filteredSongs) => ({\n  type: 'SET_FILTERED_SONGS',\n  filteredSongs: filteredSongs\n})\n// export const setBrowserFilterQuery = (browserFilterQuery) => ({\n//   type: 'SET_BROWSER_FILTER_QUERY',\n//   browserFilterQuery: browserFilterQuery\n// })\n\n/////////////////////////\n/////////////////////////\n\nexport const setSortBy = (sortBy) => ({\n  type: 'SET_SORT_BY',\n  sortBy: sortBy\n})\nexport const setReverseSort = (reverseSort) => ({\n  type: 'SET_REVERSE_SORT',\n  reverseSort: reverseSort\n})\n\n/////////////////////////\n/////////////////////////\n\nexport const setSideQueue = (side, queue) => ({\n  type: 'SET_SIDE_QUEUE',\n  side: side,\n  queue: queue\n})\nexport const pushToQueue = (side, song) => ({\n  type: 'PUSH_TO_QUEUE',\n  side: side,\n  song: song\n})\nexport const shiftFromQueue = (side) => ({\n  type: 'SHIFT_FROM_QUEUE',\n  side: side\n})\n\n/////////////////////////\n/////////////////////////\n\nexport const setChannelState = (side, key, newValue) => ({\n  type: 'SET_CHANNEL_STATE',\n  side: side,\n  key: key,\n  newValue: newValue\n})\nexport const setPlaying = (side, playing) => ({\n  type: 'SET_PLAYING',\n  side: side,\n  playing: playing\n})\n\n/////////////////////////\n/////////////////////////\n\nexport const setPos = (side, pos) => ({\n  type: 'SET_POS',\n  side: side,\n  pos: pos\n})\nexport const revertToDefault = () => ({\n  type: 'REVERT_TO_DEFAULT'\n})\nexport const setWaveformState = (side, key, newValue) => ({\n  type: 'SET_WAVEFORM_STATE',\n  side: side,\n  key: key,\n  newValue: newValue\n})\nexport const setRegionsState = (side, key, newValue) => ({\n  type: 'SET_REGIONS_STATE',\n  side: side,\n  key: key,\n  newValue: newValue\n})\n","import Wavesurfer from 'react-wavesurfer';\nimport { connect } from 'react-redux'\n\nclass MyWavesurfer extends Wavesurfer {\n\n\n\n\n////////////////////////\n//do not edit above this line\n////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return true\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let newSource = false;\n    let seekToInNewFile;\n\n    // update audioFile\n    if (this.props.audioFile !== nextProps.audioFile) {\n      this.setState({\n        isReady: false\n      });\n      this._loadAudio(nextProps.audioFile, nextProps.audioPeaks);\n      newSource = true;\n    }\n\n    // update mediaElt\n    if (this.props.mediaElt !== nextProps.mediaElt) {\n      this.setState({\n        isReady: false\n      });\n      this._loadMediaElt(nextProps.mediaElt, nextProps.audioPeaks);\n      newSource = true;\n    }\n\n    // update peaks\n    if (this.props.audioPeaks !== nextProps.audioPeaks) {\n      if (nextProps.mediaElt) {\n        this._loadMediaElt(nextProps.mediaElt, nextProps.audioPeaks);\n      } else {\n        this._loadAudio(nextProps.audioFile, nextProps.audioPeaks);\n      }\n    }\n\n    // // if clicked inside a Region, make un-interactive\n    // const regionStart = this.props.waveform.regions.loop.start\n    // const regionEnd = this.props.waveform.regions.loop.end\n    //\n    // if (nextProps.pos > regionStart && nextProps.pos < regionEnd) {\n    //   this._wavesurfer.params.interact = false\n    // }\n    // else {\n    //   this._wavesurfer.params.interact = true\n    //\n    // }\n\n    // update position\n    if (\n      nextProps.pos !== undefined &&\n      this.state.isReady &&\n      nextProps.pos !== this.props.pos &&\n      nextProps.pos !== this.state.pos\n    ) {\n      if (newSource) {\n        seekToInNewFile = this._wavesurfer.on('ready', () => {\n          this._seekTo(nextProps.pos);\n          seekToInNewFile.un();\n        });\n      } else {\n        this._seekTo(nextProps.pos);\n      }\n    }\n\n    // update playing state\n    if (\n      !newSource &&\n      (this.props.playing !== nextProps.playing ||\n        this._wavesurfer.isPlaying() !== nextProps.playing)\n    ) {\n      if (nextProps.playing) {\n        this._wavesurfer.play();\n      } else {\n        this._wavesurfer.pause();\n      }\n    }\n\n    // update volume\n    if (this.props.volume !== nextProps.volume) {\n      this._wavesurfer.setVolume(nextProps.volume);\n    }\n\n    // update zoom\n    if (this.props.zoom !== nextProps.zoom) {\n      this._wavesurfer.zoom(nextProps.zoom);\n    }\n\n    // update audioRate\n    if (this.props.options.audioRate !== nextProps.options.audioRate) {\n      this._wavesurfer.setPlaybackRate(nextProps.options.audioRate);\n    }\n\n    // update backend - DOESN'T WORK (updating works, but wavesurfer doesnt change)\n    if (this.props.options.backend !== nextProps.options.backend) {\n      this._wavesurfer.params.backend = nextProps.options.backend\n    }\n\n    // turn responsive on\n    if (\n      nextProps.responsive &&\n      this.props.responsive !== nextProps.responsive\n    ) {\n      window.addEventListener('resize', this._handleResize, false);\n    }\n\n    // turn responsive off\n    if (\n      !nextProps.responsive &&\n      this.props.responsive !== nextProps.responsive\n    ) {\n      window.removeEventListener('resize', this._handleResize);\n    }\n  }\n}\n\n///////////////////////\n// redux\n///////////////////////\n\nconst mapStateToProps = (state, ownProps) => ({\n  waveform: state.waveforms[ownProps.side]\n})\n\nconst connectedMyWavesurfer = connect(\n  mapStateToProps\n)(MyWavesurfer)\n\n\nexport default connectedMyWavesurfer;\n","import Regions from 'react-wavesurfer/src/plugins/regions';\n\nclass MyRegions extends Regions {\n  shouldComponentUpdate() {\n    return true\n  }\n\n  componentDidUpdate() {\n    // console.log('Regions updating');\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // only update if the wavesurfer instance has been ready\n    if (!this.props.isReady) {\n      return;\n    }\n\n    // console.log(this.props.regions);\n    // console.log(nextProps.regions);\n\n    // cache reference to old regions\n    const oldRegions = Object.create(this.props.wavesurfer.regions.list);\n    let newRegionId;\n    let oldRegionId;\n\n    for (newRegionId in nextProps.regions) {\n      if ({}.hasOwnProperty.call(nextProps.regions, newRegionId)) {\n        const newRegion = nextProps.regions[newRegionId];\n\n        // remove from oldRegions\n        delete oldRegions[newRegionId];\n\n        // new regions\n        if (!this.props.wavesurfer.regions.list[newRegionId]) {\n          this._hookUpRegionEvents(nextProps.wavesurfer.addRegion(newRegion));\n\n          // update regions\n        } else if (\n          oldRegions[newRegionId] &&\n          (oldRegions[newRegionId].start !== newRegion.start ||\n            oldRegions[newRegionId].end !== newRegion.end ||\n            oldRegions[newRegionId].loop !== newRegion.loop ||\n            oldRegions[newRegionId].color !== newRegion.color)\n        ) {\n          nextProps.wavesurfer.regions.list[newRegionId].update({\n            start: newRegion.start,\n            end: newRegion.end,\n            loop: newRegion.loop,\n            color: newRegion.color,\n          });\n        }\n      }\n    }\n\n    // remove any old regions\n    for (oldRegionId in oldRegions) {\n      if ({}.hasOwnProperty.call(oldRegions, oldRegionId)) {\n        nextProps.wavesurfer.regions.list[oldRegionId].remove();\n      }\n    }\n  }\n\n}\nexport default MyRegions;\n","import React, { Component } from 'react';\n\nimport { connect } from 'react-redux'\nimport {\n  setPos,\n  setWaveformState,\n  setRegionsState,\n} from '../../actions'\n\nimport '../../css/Waveform.css';\n// import Wavesurfer from 'react-wavesurfer';\nimport MyWavesurfer from '../MyWavesurfer';\n// import Regions from 'react-wavesurfer/src/plugins/regions';\nimport MyRegions from '../MyRegions';\n\nclass Waveform extends Component {\n  render() {\n    this.setAudioRate()\n    // this.setBackend()\n    this.setLoop()\n\n    return (\n      <div className=\"Waveform\">\n        {this.props.channel.currentSong ? this.renderWaveform() : null}\n      </div>\n    );\n  }\n\n  ////////////////////\n\n  setAudioRate = () => {\n    const givenAudioRate = this.props.channel.calculatedAudioRate\n    const actualAudioRate = this.props.waveform.waveformOptions.audioRate\n\n    if (actualAudioRate !== givenAudioRate) {\n      this.props.setWaveformState('audioRate', givenAudioRate)\n    }\n  }\n\n// todo: the redux and state work, but pitch shift toggle not working\n  // setBackend = () => {\n  //   const pitchShift = this.props.channel.pitchShift\n  //   const backend = this.props.waveform.waveformOptions.backend\n  //\n  //   if (pitchShift && (backend === 'MediaElement')) {\n  //     this.props.setWaveformState('backend', 'WebAudio')\n  //   }\n  //   else if (!pitchShift && (backend === 'WebAudio')) {\n  //     this.props.setWaveformState('backend', 'MediaElement')\n  //   }\n  // }\n\n  setLoop = () => {\n    const givenLoop = this.props.channel.loop\n    const actualLoop = this.props.waveform.regions.loop.loop\n\n    if (actualLoop !== givenLoop) {\n      this.props.setRegionsState('loop', givenLoop)\n      if (givenLoop) {\n        this.props.setRegionsState('color', 'rgba(0,0,225,.3)')\n      }\n      else {\n        this.props.setRegionsState('color', 'rgba(225,0,225,.2)')\n      }\n    }\n  }\n\n  // WAVEFORM METHODS\n\n  handlePosChange = (e) => {\n    const newPos = e.originalArgs[0]\n    this.props.setPos(newPos)\n  }\n\n  handleFinish = () => {\n    this.props.playNextFromQueue()\n  }\n\n  // REGIONS METHODS\n\n  handleRegionUpdateEnd = (e) => {\n    const end = e.originalArgs[0].end\n    const start = e.originalArgs[0].start\n    this.props.setRegionsState('end', end)\n    this.props.setRegionsState('start', start)\n  }\n\n  // RENDER\n\n  renderWaveform = () => {\n    return (\n      <MyWavesurfer\n        side={this.props.side}\n\n        audioFile={this.props.channel.currentSong.url}\n        playing={this.props.channel.playing}\n        volume={this.props.channel.calculatedVolume}\n\n        options={this.props.waveform.waveformOptions}\n        pos={this.props.waveform.pos}\n\n        onPosChange={this.handlePosChange}\n        onFinish={this.handleFinish}\n      >\n\n      <MyRegions\n        regions={this.props.waveform.regions}\n        onRegionUpdateEnd={this.handleRegionUpdateEnd}\n      />\n\n      </MyWavesurfer>\n    )\n  }\n}\n\n///////////////////////\n// redux\n///////////////////////\n\nconst mapStateToProps = (state, ownProps) => ({\n  channel: state.channels[ownProps.side],\n  waveform: state.waveforms[ownProps.side]\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setPos: (pos) => dispatch(setPos(ownProps.side, pos)),\n  setWaveformState: (key, newValue) => dispatch(setWaveformState(ownProps.side, key, newValue)),\n  setRegionsState: (key, newValue) => dispatch(setRegionsState(ownProps.side, key, newValue)),\n})\n\nconst connectedWaveform = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Waveform)\n\n\nexport default connectedWaveform;\n","export const keyboardShortcuts = {\n  help: {\n    // single: {},\n    double: {\n      shift: {\n        '?': function () {\n          this.handleClick()\n        }\n      },\n      // meta: {}\n    }\n  },\n  seek: {\n    single: {\n      // SEEK\n      '1': function () {\n        if (this.props.side === 'left') {\n          this.seek({forwards: false, coarse: true})\n        }\n      },\n      '2': function () {\n        if (this.props.side === 'left') {\n          this.seek({forwards: true, coarse: true})\n        }\n      },\n      '9': function () {\n        if (this.props.side === 'right') {\n          this.seek({forwards: false, coarse: true})\n        }\n      },\n      '0': function () {\n        if (this.props.side === 'right') {\n          this.seek({forwards: true, coarse: true})\n        }\n      },\n\n      // PLAY PAUSE\n      'q': function () {\n        if (this.props.side === 'left') {\n          this.props.togglePlaying()\n        }\n      },\n      'p': function () {\n        if (this.props.side === 'right') {\n          this.props.togglePlaying()\n        }\n      },\n    },\n    double: {\n      shift: {\n        '!': function () {\n          if (this.props.side === 'left') {\n            this.seek({forwards: false, coarse: false})\n          }\n        },\n        '@': function () {\n          if (this.props.side === 'left') {\n            this.seek({forwards: true, coarse: false})\n          }\n        },\n        '(': function () {\n          if (this.props.side === 'right') {\n            this.seek({forwards: false, coarse: false})\n          }\n        },\n        ')': function () {\n          if (this.props.side === 'right') {\n            this.seek({forwards: true, coarse: false})\n          }\n        },\n\n        // JUMP TO LOOP START\n        'S': function () {\n          if (this.props.side === 'left') {\n            const loopStart = this.props.waveform.regions.loop.start\n            this.props.setPos(loopStart)\n          }\n        },\n        'L': function () {\n          if (this.props.side === 'right') {\n            const loopStart = this.props.waveform.regions.loop.start\n            this.props.setPos(loopStart)\n          }\n        }\n      },\n      // meta: {}\n    }\n  },\n  masterControls: {\n    single: {\n      // TOGGLE PLAY/PAUSE\n      ' ': function () {\n        this.togglePlaying()\n      },\n\n      // CROSSFADE\n      'ArrowLeft': function () {\n        const decrCrossfade = this.props.crossfade - .1\n        if (decrCrossfade >= -1) {\n          this.props.setCrossfade(decrCrossfade)\n        }\n      },\n      'ArrowRight': function () {\n        const incrCrossfade = this.props.crossfade + .1\n        if (incrCrossfade <= 1) {\n          this.props.setCrossfade(incrCrossfade)\n        }\n      },\n\n      // BPM INCR/DECR\n      'ArrowUp': function () {\n        const incrBpm = this.props.masterBpm + 10\n        if (incrBpm <= 300) {\n          this.props.setBpm(incrBpm)\n        }\n      },\n      'ArrowDown': function () {\n        const decrBpm = this.props.masterBpm - 10\n        if (decrBpm > 0) {\n          this.props.setBpm(decrBpm)\n        }\n      },\n    },\n    double: {\n      shift: {\n        // HARD CROSSFADE\n        'ArrowLeft': function () {\n          this.props.setCrossfade(-1)\n        },\n        'ArrowRight': function () {\n          this.props.setCrossfade(1)\n        },\n\n        // SLOWER BPM INCR/DECR\n        'ArrowUp': function () {\n          const incrBpm = this.props.masterBpm + 1\n          if (incrBpm <= 300) {\n            this.props.setBpm(incrBpm)\n          }\n        },\n        'ArrowDown': function () {\n          const decrBpm = this.props.masterBpm - 1\n          if (decrBpm > 0) {\n            this.props.setBpm(decrBpm)\n          }\n        },\n      },\n      meta: {\n        'ArrowDown': function () {\n          this.props.setCrossfade(0)\n        }\n      }\n    }\n  },\n  loop: {\n    single: {\n      // TOGGLE LOOP\n      's': function () {\n        if (this.props.side === 'left') {\n          this.toggleLoop()\n        }\n      },\n      'l': function () {\n        if (this.props.side === 'right') {\n          this.toggleLoop()\n        }\n      },\n\n      // NUDGE LOOP START\n      // nudge backwards\n      'e': function () {\n        if (this.props.side === 'left') {\n          this.moveLoop({\n            moveStart: true,\n            forwards: false,\n            coarse: true\n          })\n        }\n      },\n      'u': function () {\n        if (this.props.side === 'right') {\n          this.moveLoop({\n            moveStart: true,\n            forwards: false,\n            coarse: true\n          })\n        }\n      },\n      // nudge forwards\n      'r': function () {\n        if (this.props.side === 'left') {\n          this.moveLoop({\n            moveStart: true,\n            forwards: true,\n            coarse: true\n          })\n        }\n      },\n      'i': function () {\n        if (this.props.side === 'right') {\n          this.moveLoop({\n            moveStart: true,\n            forwards: true,\n            coarse: true\n          })\n        }\n      },\n\n      // NUDGE LOOP END\n      // nudge backwards\n      'c': function () {\n        if (this.props.side === 'left') {\n          this.moveLoop({\n            moveStart: false,\n            forwards: false,\n            coarse: true\n          })\n        }\n      },\n      'n': function () {\n        if (this.props.side === 'right') {\n          this.moveLoop({\n            moveStart: false,\n            forwards: false,\n            coarse: true\n          })\n        }\n      },\n      // nudge forwards\n      'v': function () {\n        if (this.props.side === 'left') {\n          this.moveLoop({\n            moveStart: false,\n            forwards: true,\n            coarse: true\n          })\n        }\n      },\n      'm': function () {\n        if (this.props.side === 'right') {\n          this.moveLoop({\n            moveStart: false,\n            forwards: true,\n            coarse: true\n          })\n        }\n      },\n\n      // HALVE/DOUBLE LOOP\n      // halve\n      'd': function () {\n        if (this.props.side === 'left') {\n          this.resizeLoop({\n            double: false,\n            fromStart: true\n          })\n        }\n      },\n      'j': function () {\n        if (this.props.side === 'right') {\n          this.resizeLoop({\n            double: false,\n            fromStart: true\n          })\n        }\n      },\n      // double\n      'f': function () {\n        if (this.props.side === 'left') {\n          this.resizeLoop({\n            double: true,\n            fromStart: true\n          })\n        }\n      },\n      'k': function () {\n        if (this.props.side === 'right') {\n          this.resizeLoop({\n            double: true,\n            fromStart: true\n          })\n        }\n      },\n    },\n    double: {\n      shift: {\n        // NUDGE LOOP START\n        // nudge backwards\n        'E': function () {\n          if (this.props.side === 'left') {\n            this.moveLoop({\n              moveStart: true,\n              forwards: false,\n              coarse: false\n            })\n          }\n        },\n        'U': function () {\n          if (this.props.side === 'right') {\n            this.moveLoop({\n              moveStart: true,\n              forwards: false,\n              coarse: false\n            })\n          }\n        },\n        // nudge forwards\n        'R': function () {\n          if (this.props.side === 'left') {\n            this.moveLoop({\n              moveStart: true,\n              forwards: true,\n              coarse: false\n            })\n          }\n        },\n        'I': function () {\n          if (this.props.side === 'right') {\n            this.moveLoop({\n              moveStart: true,\n              forwards: true,\n              coarse: false\n            })\n          }\n        },\n\n        // NUDGE LOOP END\n        // nudge backwards\n        'C': function () {\n          if (this.props.side === 'left') {\n            this.moveLoop({\n              moveStart: false,\n              forwards: false,\n              coarse: false\n            })\n          }\n        },\n        'N': function () {\n          if (this.props.side === 'right') {\n            this.moveLoop({\n              moveStart: false,\n              forwards: false,\n              coarse: false\n            })\n          }\n        },\n        // nudge forwards\n        'V': function () {\n          if (this.props.side === 'left') {\n            this.moveLoop({\n              moveStart: false,\n              forwards: true,\n              coarse: false\n            })\n          }\n        },\n        'M': function () {\n          if (this.props.side === 'right') {\n            this.moveLoop({\n              moveStart: false,\n              forwards: true,\n              coarse: false\n            })\n          }\n        },\n\n        // HALVE/DOUBLE LOOP\n        // halve\n        'D': function () {\n          if (this.props.side === 'left') {\n            this.resizeLoop({\n              double: false,\n              fromStart: false\n            })\n          }\n        },\n        'J': function () {\n          if (this.props.side === 'right') {\n            this.resizeLoop({\n              double: false,\n              fromStart: false\n            })\n          }\n        },\n        // double\n        'F': function () {\n          if (this.props.side === 'left') {\n            this.resizeLoop({\n              double: true,\n              fromStart: false\n            })\n          }\n        },\n        'K': function () {\n          if (this.props.side === 'right') {\n            this.resizeLoop({\n              double: true,\n              fromStart: false\n            })\n          }\n        },\n      },\n      meta: {}\n    }\n  },\n}\n","import {keyboardShortcuts} from './keyboardShortcutsList'\n\nexport function keyboardShortcutsFunction(type) {\n  const singleShortcuts = keyboardShortcuts[type].single || {}\n  const shiftShortcuts = keyboardShortcuts[type].double.shift || {}\n  const metaShortcuts = keyboardShortcuts[type].double.meta || {}\n\n  const singleShortcutKeys = Object.keys(singleShortcuts)\n  const shiftShortcutKeys = Object.keys(shiftShortcuts)\n  const metaShortcutKeys = Object.keys(metaShortcuts)\n\n  document.addEventListener('keydown', (e) => {\n    if (e.target.type !== 'text' && e.target.type !== 'number') {\n      e.preventDefault()\n\n      if (e.shiftKey && e.metaKey) {}\n\n      else if (e.shiftKey && !e.metaKey) {\n        shiftShortcutKeys.forEach(k => {\n          if (e.key === k) {\n            const fn = shiftShortcuts[k]\n            const boundFn = fn.bind(this)\n            boundFn()\n          }\n        })\n      }\n\n      else if (!e.shiftKey && e.metaKey) {\n        metaShortcutKeys.forEach(k => {\n          if (e.key === k) {\n            const fn = metaShortcuts[k]\n            const boundFn = fn.bind(this)\n            boundFn()\n          }\n        })\n      }\n\n      else {\n        singleShortcutKeys.forEach(k => {\n          if (e.key === k) {\n            const fn = singleShortcuts[k]\n            const boundFn = fn.bind(this)\n            boundFn()\n          }\n        })\n      }\n\n\n\n    } // end prevent shortcuts when input is focused\n  }) // end event listener\n} // end single-key shortcut function\n","import React, { Component } from 'react';\nimport {keyboardShortcutsFunction} from '../keyboardShortcutsFunction'\n\nclass Loop extends Component {\n\n  render() {\n    return (\n      <div className=\"Loop\">\n      <label>Loop</label>\n\n      <input\n      type=\"checkbox\"\n      checked={this.props.channel.loop}\n      onChange={this.toggleLoop}\n      />\n\n      {this.renderLoopSettings()}\n\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    keyboardShortcutsFunction.bind(this)('loop')\n  }\n  //\n  // let beat = 0.95\n  // // if (this.props.channels['left'].currentSong) {\n  //   const leftBpm = this.props.channels['left'].currentSong.bpm\n  //   beat = 60/leftBpm\n  // // }\n\n  /////////////////\n  // TOGGLE LOOP\n  toggleLoop = () => {\n    this.props.setChannelState('loop', !this.props.channel.loop)\n  }\n\n  /////////////////\n  // MOVE LOOP\n\n  moveLoop = ({moveStart, forwards, coarse}) => {\n    const start = this.props.waveform.regions.loop.start\n    const end = this.props.waveform.regions.loop.end\n\n    let pos\n    if (moveStart) {\n      pos = start\n    }\n    else {\n      pos = end\n    }\n\n    let amount\n    if (coarse) {\n      amount = 1\n      if (this.props.channel.currentSong) {\n        const bpm = this.props.channel.currentSong.bpm\n        amount = 60/bpm\n      }\n    }\n    else {\n      amount = 0.1\n    }\n\n    let newPos\n    if (forwards) {\n      newPos = pos + amount\n    }\n    else {\n      newPos = pos - amount\n    }\n\n    if (moveStart) {\n      if (\n        newPos >= 0 &&\n        newPos < end\n      ) {\n        this.props.setRegionsState('start', newPos)\n      }\n    }\n    else {\n      if (\n        newPos > start\n      ) {\n        this.props.setRegionsState('end', newPos)\n      }\n    }\n  }\n\n  resizeLoop = ({double, fromStart}) => {\n    console.log('resizing', double, fromStart);\n    const start = this.props.waveform.regions.loop.start\n    const end = this.props.waveform.regions.loop.end\n    const length = end - start\n    let newLength\n    if (double) {\n      newLength = length * 2\n    }\n    else {\n      newLength = length / 2\n    }\n\n    if (fromStart) {\n      if (newLength > .01) {\n        this.props.setRegionsState('end', start + newLength)\n      }\n    }\n    else {\n      if (\n        newLength > .01 &&\n        end - newLength >= 0\n      ) {\n        this.props.setRegionsState('start', end - newLength)\n      }\n    }\n  }\n\n  loopHalf = () => {\n    const start = this.props.waveform.regions.loop.start\n    const end = this.props.waveform.regions.loop.end\n    const length = end - start\n    const newLength = length / 2\n    if (newLength > .01) {\n      this.props.setRegionsState('end', start + newLength)\n    }\n  }\n  loopDouble = () => {\n    const start = this.props.waveform.regions.loop.start\n    const end = this.props.waveform.regions.loop.end\n    const length = end - start\n    const newLength = length * 2\n    // if (start + newLength < ?????) { // HOW TO FIND END OF FILE?\n      this.props.setRegionsState('end', start + newLength)\n    // }\n  }\n\n  renderLoopSettings = () => {\n    return (\n      <div className=\"loopSettings\">\n        <div>\n          <label>Loop start</label>\n          <br />\n          <span>\n            <button\n              onClick={this.startBack}\n            >\n              {'<'}\n            </button>\n            <button\n              onClick={this.startForwards}\n            >\n              {'>'}\n            </button>\n          </span>\n        </div>\n\n        <div>\n          <label>Loop length</label>\n          <br />\n          <span>\n            <button\n              onClick={this.loopHalf}\n            >\n              /2\n            </button>\n            <button\n              onClick={this.loopDouble}\n            >\n              ×2\n            </button>\n          </span>\n        </div>\n\n        <div>\n          <label>Loop end</label>\n          <br />\n          <span>\n            <button\n              onClick={this.endBack}\n            >\n              {'<'}\n            </button>\n            <button\n              onClick={this.endForwards}\n            >\n              {'>'}\n            </button>\n          </span>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Loop;\n","import React, { Component } from 'react';\nimport {keyboardShortcutsFunction} from '../keyboardShortcutsFunction'\n\nclass Seek extends Component {\n  render() {\n    return (\n      <div className=\"Seek\">\n        <button\n          onClick={this.back}\n        >\n          {'<<'}\n        </button>\n\n        <button\n          onClick={this.props.togglePlaying}\n          className='play-pause'\n        >\n          {this.playPause()}\n        </button>\n\n        <button\n          onClick={this.forwards}\n        >\n          {'>>'}\n        </button>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    keyboardShortcutsFunction.bind(this)('seek')\n  }\n\n  ////////////////////\n  // PLAYING CONTROLS\n\n  playPause = () => {\n    if (this.props.channel.playing) {\n      return 'Pause'\n    }\n    else {\n      return 'Play'\n    }\n  }\n\n  ///////////////////////////////////\n  //// SEEK CONTROLS\n\n  seek = ({forwards, coarse}) => {\n    const pos = this.props.waveform.pos\n\n    let amount\n    if (coarse) {\n      amount = 1\n      if (this.props.channel.currentSong) {\n        const bpm = this.props.channel.currentSong.bpm\n        amount = 60/bpm\n      }\n    }\n    else {\n      amount = 0.1\n    }\n\n    let newPos\n    if (forwards) {\n      newPos = pos + amount\n    }\n    else {\n      newPos = pos - amount\n    }\n\n    if (newPos > 0) {\n      this.props.setPos(newPos)\n    }\n    else {\n      this.props.setPos(0)\n    }\n  }\n\n  /////////////////////////\n\n}\n\nexport default Seek;\n","import React, { Component } from 'react';\nimport '../../css/Controls.css';\n\nimport { connect } from 'react-redux'\nimport {\n  // setBpm,\n  // setCrossfade,\n  //\n  // revertToDefault,\n  setChannelState,\n  setRegionsState,\n  //\n  // setPlaying,\n  //\n  // shiftFromQueue,\n  setPos\n} from '../../actions'\n\nimport Loop from './Loop';\nimport Seek from './Seek';\n\nconst Volume = (props) => {\n  const handleChange = (e) => {\n    props.setVolume(parseFloat(e.target.value))\n  }\n\n  return (\n    <div className=\"Volume\">\n      <label>Volume</label>\n      <br />\n      <input\n        type=\"range\"\n        orient=\"vertical\"\n        min=\"0\"\n        max=\"1\"\n        step=\".01\"\n        value={props.volume}\n        onChange={handleChange}\n      />\n    </div>\n  );\n}\nconst DoubleHalf = (props) => {\n  const handleClick = (e) => {\n    props.setBpmFactor(e.target.name)\n  }\n\n  const displaySpeed = () => {\n    let speed = `${props.bpmFactor} ×`\n    switch (props.bpmFactor) {\n      case 0.125:\n        speed = '⅛'\n        break;\n      case 0.25:\n        speed = '¼'\n        break;\n      case 0.5:\n        speed = '½'\n        break;\n      default:\n        break;\n    }\n    return `${speed} speed`\n  }\n\n  return (\n    <div className=\"DoubleHalf\">\n    {displaySpeed()}\n      <div className='double-half-buttons'>\n        <button\n          name='half'\n          onClick={handleClick}\n        >\n          /2\n        </button>\n        <button\n          name='original'\n          onClick={handleClick}\n        >\n          original\n        </button>\n        <button\n          name='double'\n          onClick={handleClick}\n        >\n          ×2\n        </button>\n      </div>\n    </div>\n  );\n}\n\nclass Controls extends Component {\n  render() {\n    return (\n      <div className='Controls'>\n        <div className='toggles'>\n          <div className='top'>\n            <div className='buttons'>\n              <Seek\n                side={this.props.side}\n                channel={this.props.channel}\n                waveform={this.props.waveform}\n\n                togglePlaying={this.props.togglePlaying}\n\n                setPos={this.props.setPos}\n                setRegionsState={this.props.setRegionsState}\n              />\n\n              <button\n                onClick={this.props.syncBpm}\n              >\n                Sync master\n              </button>\n            </div>\n\n            <div className='checkboxes'>\n\n              <Loop\n                side={this.props.side}\n                channel={this.props.channel}\n                waveform={this.props.waveform}\n\n                setChannelState={this.props.setChannelState}\n                setRegionsState={this.props.setRegionsState}\n              />\n            </div>\n          </div>\n\n          <DoubleHalf\n            bpmFactor={this.props.bpmFactor}\n            setBpmFactor={this.props.setBpmFactor}\n          />\n        </div>\n\n        <div className='sliders'>\n          <Volume\n            volume={this.props.volume}\n            setVolume={this.props.setVolume}\n          />\n        </div>\n      </div>\n    )\n  }\n\n  //////////\n}\n// export default Controls;\n\n// <PitchShift\n// pitchShift={this.props.pitchShift}\n// togglePitchShift={this.props.togglePitchShift}\n// />\n\n\n///////////////////////\n// redux\n///////////////////////\n\nconst mapStateToProps = (state, ownProps) => ({\n  // Channel state\n  channel: state.channels[ownProps.side],\n  waveform: state.waveforms[ownProps.side],\n  // queue: state.queues[ownProps.side]\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  // // App state setters\n  // setBpm: (bpm) => dispatch(setBpm(bpm)),\n  // setCrossfade: (crossfade) => dispatch(setCrossfade(crossfade)),\n  //\n  // // Channel state setters\n  setChannelState: (key, newValue) => dispatch(setChannelState(ownProps.side, key, newValue)),\n  // revertToDefault: () => dispatch(revertToDefault()),\n  //\n  // setPlaying: (playing) => dispatch(setPlaying(ownProps.side, playing)),\n  //\n  // shiftFromQueue: () => dispatch(shiftFromQueue(ownProps.side)),\n  //\n  // Waveform state setters\n  setPos: (pos) => dispatch(setPos(ownProps.side, pos)),\n  setRegionsState: (key, newValue) => dispatch(setRegionsState(ownProps.side, key, newValue)),\n})\n\nconst connectedControls = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Controls)\n\n\nexport default connectedControls;\n","import React from 'react';\n\nconst QueueSong = ({song, removeFromQueue, setCurrentSong}) => {\n  const handleClickLoad = (e) => {\n    removeFromQueue(song)\n\n    setCurrentSong(song)\n  }\n\n  const handleClickRemove = (e) => {\n    removeFromQueue(song)\n  }\n\n  return (\n    <li\n      className=\"QueueSong\"\n    >\n      <span className='drag'>☰</span>\n      <span>\n        <button\n          onClick={handleClickLoad}\n        >\n          Load\n        </button>\n        <button\n          onClick={handleClickRemove}\n        >\n          Remove\n        </button>\n      </span>\n\n      {song.title}\n\n    </li>\n  );\n}\n\nexport default QueueSong;\n","import React, { Component } from 'react';\nimport Sortable from 'sortablejs'\n\nimport { connect } from 'react-redux'\nimport { setSideQueue } from '../../actions'\n\nimport '../../css/Queue.css';\nimport QueueSong from '../presentational/QueueSong';\nconst uuid = require('uuid/v4');\n\nclass Queue extends Component {\n\n  render() {\n    return (\n      <div className=\"Queue\">\n        <ul id={`${this.props.side}-queue`}>\n          {this.renderQueue()}\n        </ul>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    const list = document.getElementById(`${this.props.side}-queue`);\n    Sortable.create(list, {\n      animation: 150,\n      handle: '.drag'\n    })\n  }\n\n  ////////////////\n\n  renderQueue = () => {\n    return this.props.queue.map(s => {\n      return (\n        <QueueSong\n          song={s}\n          key={uuid()}\n          removeFromQueue={this.removeFromQueue}\n          setCurrentSong={this.props.setCurrentSong}\n        />\n      )\n    })\n  }\n\n  removeFromQueue = (song) => {\n    const side = this.props.side\n    const newQueue = [...this.props.queue].filter(s => s !== song)\n\n    this.props.setSideQueue(side, newQueue)\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  queue: state.queues[ownProps.side]\n})\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setSideQueue: (side, queue) => dispatch(setSideQueue(side, queue))\n})\n\nconst connectedQueue = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Queue)\n\n\nexport default connectedQueue;\n","import React, { Component } from 'react';\n\nimport { connect } from 'react-redux'\nimport {\n  setBpm,\n  setCrossfade,\n\n  revertToDefault,\n  setChannelState,\n  setRegionsState,\n\n  setPlaying,\n\n  shiftFromQueue,\n  setPos\n} from '../../actions'\n\nimport '../../css/Channel.css';\nimport Waveform from './Waveform';\nimport Controls from './Controls';\nimport Queue from './Queue';\n\nclass Channel extends Component {\n  render() {\n    if (this.props.channel.currentSong) {\n      this.setInitialBpm()\n      this.calculateAudioVolume()\n      this.calculateAudioRate()\n    }\n    return (\n      <div className={`Channel ${this.props.side}`}>\n        <div className='controls'>\n          <h2>{this.props.channel.currentSong ? `${this.props.channel.currentSong.title} (${parseInt(this.props.channel.currentSong.bpm)} bpm)` : 'No song playing'}</h2>\n\n          <Waveform\n            side={this.props.side}\n            playNextFromQueue={this.playNextFromQueue}\n          />\n\n          <Controls\n            side={this.props.side}\n            togglePlaying={this.togglePlaying}\n          />\n        </div>\n        <Queue\n          side={this.props.side}\n          setCurrentSong={this.setCurrentSong}\n        />\n      </div>\n    );\n  }\n  //////////////////////\n  // CHANNEL CONTROLS\n  //////////////////////\n\n  setVolume = (newVolume) => {\n    this.props.setChannelState('volume', newVolume)\n  }\n\n  setBpmFactor = (type) => {\n    let newBpmFactor = this.props.channel.bpmFactor\n    switch (type) {\n      case 'double':\n        newBpmFactor *= 2\n        break;\n      case 'half':\n        newBpmFactor /= 2\n        break;\n      default:\n        newBpmFactor = 1\n        break;\n    }\n    if (newBpmFactor >= 0.125 && newBpmFactor <= 8) {\n      this.props.setChannelState('bpmFactor', newBpmFactor)\n    }\n  }\n\n  setCurrentSong = (newSong) => {\n    this.props.setChannelState('currentSong', null)\n    this.props.revertToDefault()\n    this.props.setChannelState('currentSong', newSong)\n    this.props.setPos(0)\n  }\n\n  togglePlaying = () => {\n    if (this.props.channel.currentSong) {\n      this.props.setPlaying(!this.props.channel.playing)\n    }\n    else if (this.props.queue[0]) {\n      this.props.setPlaying(!this.props.channel.playing)\n\n      this.playNextFromQueue()\n    }\n  }\n\n  togglePitchShift = () => {\n    this.props.setChannelState('pitchShift', !this.props.channel.pitchShift)\n  }\n\n  // toggleLoop = () => {\n  //   this.props.setChannelState('loop', !this.props.channel.loop)\n  // }\n  ///////////////////////\n\n  playNextFromQueue = () => {\n    if (this.props.queue[0]) {\n      const currentSong = this.props.queue[0]\n      this.props.setChannelState('currentSong', currentSong)\n      this.props.shiftFromQueue()\n    }\n    else {\n      this.props.setChannelState('currentSong', null)\n      this.props.setPlaying(false)\n    }\n  }\n\n  //////////////////////\n  // AUDIO CONTROLS\n  //////////////////////\n\n  calculateAudioVolume = () => {\n    const volume = this.props.channel.volume\n    const crossfade = parseFloat(this.props.crossfade)\n    const side = this.props.side\n    let newVolume\n\n    if (crossfade > 0 && side === 'left') {\n      newVolume = volume * (1 - crossfade)\n    }\n    else if (crossfade < 0 && side === 'right') {\n      newVolume = volume * (1 + crossfade)\n    }\n    else {\n      newVolume = volume\n    }\n\n    if (this.props.channel.calculatedVolume !== newVolume) {\n      this.props.setChannelState('calculatedVolume', newVolume)\n    }\n  }\n\n  calculateAudioRate = () => {\n    const masterBpm = this.props.masterBpm\n    const songBpm = this.props.channel.currentSong.bpm\n    const songPlaybackRate = masterBpm / songBpm\n    const bpmFactor = this.props.channel.bpmFactor\n\n    if (songPlaybackRate > 0.1 && this.props.channel.calculatedAudioRate !== songPlaybackRate * bpmFactor) {\n      this.props.setChannelState('calculatedAudioRate', songPlaybackRate * bpmFactor)\n    }\n  }\n\n  //////////////////////\n  // GLOBAL CONTROLS\n  //////////////////////\n\n  syncBpm = () => {\n    if (this.props.channel.currentSong) {\n      this.props.setBpm(this.props.channel.currentSong.bpm)\n    }\n  }\n\n  setInitialBpm = () => { // if no song bpm set and song playing for first time, set bpm to current song bpm\n    if (!this.props.masterBpm) {\n      this.syncBpm()\n    }\n  }\n}\n\n///////////////////////\n// redux\n///////////////////////\n\nconst mapStateToProps = (state, ownProps) => ({\n  // App state\n  masterBpm: state.masterBpm,\n  crossfade: state.crossfade,\n\n  // Channel state\n  channel: state.channels[ownProps.side],\n  waveform: state.waveforms[ownProps.side],\n  queue: state.queues[ownProps.side]\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  // App state setters\n  setBpm: (bpm) => dispatch(setBpm(bpm)),\n  setCrossfade: (crossfade) => dispatch(setCrossfade(crossfade)),\n\n  // Channel state setters\n  setChannelState: (key, newValue) => dispatch(setChannelState(ownProps.side, key, newValue)),\n  revertToDefault: () => dispatch(revertToDefault()),\n  setRegionsState: (key, newValue) => dispatch(setRegionsState(ownProps.side, key, newValue)),\n\n  setPlaying: (playing) => dispatch(setPlaying(ownProps.side, playing)),\n\n  shiftFromQueue: () => dispatch(shiftFromQueue(ownProps.side)),\n\n  // Waveform state setters\n  setPos: (pos) => dispatch(setPos(ownProps.side, pos))\n})\n\nconst connectedChannel = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Channel)\n\n\nexport default connectedChannel;\n","import React from 'react';\n\nconst MasterPlayPause = ({masterPlaying, togglePlaying}) => {\n  return (\n    <div className=\"MasterPlayPause\">\n      <button\n        onClick={togglePlaying}\n      >\n        {masterPlaying() ? 'Pause' : 'Play'}\n      </button>\n    </div>\n  );\n}\n\nexport default MasterPlayPause;\n","import React from 'react';\n\nconst Crossfader = ({crossfade, setCrossfade}) => {\n  const handleChange = (e) => {\n    setCrossfade(e.target.value)\n  }\n\n  return (\n    <div className=\"Crossfader\">\n      <label>\n        Crossfader\n      </label>\n      <br />\n      <input\n        id=\"crossfader\"\n        type=\"range\"\n        min=\"-1\"\n        max=\"1\"\n        step=\".01\"\n        value={crossfade}\n        onChange={handleChange}\n      />\n    </div>\n  );\n}\n\nexport default Crossfader;\n","import React from 'react';\n\nconst Bpm = ({masterBpm, setBpm}) => {\n  const handleChange = (e) => {\n    setBpm(parseInt(e.target.value))\n    // changeState({\n    //   masterBpm: parseInt(e.target.value)\n    // })\n  }\n\n  return (\n    <div className=\"Bpm\">\n      <label>BPM:</label>\n      <input\n        id=\"bpmValue\"\n        type=\"number\"\n        min=\"1\"\n        max=\"300\"\n        step=\"1\"\n        value={masterBpm}\n        onChange={handleChange}\n      />\n      <br />\n      <input\n        id=\"bpmSlider\"\n        type=\"range\"\n        min=\"1\"\n        max=\"300\"\n        step=\"1\"\n        value={masterBpm}\n        onChange={handleChange}\n      />\n    </div>\n  );\n}\n\nexport default Bpm;\n","import React from 'react';\n\nconst Info = () => {\n  return (\n    <div className='Info hidden'>\n      <h3>Keyboard shortcuts:</h3>\n      <ul>\n\n        <span>\n          <li>\n            <strong>?</strong>: open help menu\n          </li>\n          <br />\n\n          <label>Master controls</label>\n          <br />\n\n          <li>\n            <strong>Space</strong>: play/pause master\n          </li>\n\n          <br />\n\n          <li>\n            <strong>←</strong>, <strong>→</strong>: crossfade left/right<br />\n            <em>(with <strong>Shift</strong>: fine crossfade)</em>\n          </li>\n          <li>\n            <strong>Cmd</strong> + <strong>↓</strong>: crossfade to center\n          </li>\n\n          <br />\n\n          <li>\n          <strong>↑</strong>, <strong>↓</strong>: BPM up/down<br />\n            <em>(with <strong>Shift</strong>: fine adjust</em>\n          </li>\n\n          <br />\n\n          <li>\n            <strong>Q</strong>, <strong>P</strong>: play/pause left/right\n          </li>\n          <li>\n            <strong>S</strong>, <strong>L</strong>: toggle looping left/right\n          </li>\n\n          <br />\n          <label>Seek forwards/backwards</label>\n          <br />\n          <em>(with <strong>Shift</strong>: fine adjust)</em>\n\n\n          <li>\n            <strong>1</strong>, <strong>9</strong>: seek backwards\n          </li>\n          <li>\n            <strong>2</strong>, <strong>0</strong>: seek forwards\n          </li>\n        </span>\n\n        <span>\n          <label>Loop controls</label>\n          <br />\n          <em>(with <strong>Shift</strong>: fine adjust)</em>\n\n          <li>\n            <strong>Shift</strong> + <strong>S</strong>, <strong>Shift</strong> + <strong>L</strong>: jump to loop start\n          </li>\n\n          <br />\n\n          <li>\n            <strong>E</strong>, <strong>U</strong>: nudge loop start backwards\n          </li>\n          <li>\n            <strong>R</strong>, <strong>I</strong>: nudge loop start forwards\n          </li>\n\n          <br />\n\n          <li>\n            <strong>C</strong>, <strong>N</strong>: nudge loop end backwards\n          </li>\n          <li>\n            <strong>V</strong>, <strong>M</strong>: nudge loop end forwards\n          </li>\n\n          <br />\n\n          <li>\n            <strong>D</strong>, <strong>J</strong>: halve loop\n          </li>\n          <li>\n            <strong>F</strong>, <strong>K</strong>: double loop\n          </li>\n\n          <br />\n\n          <li>\n            <strong>Shift</strong> + <strong>D</strong>, <strong>Shift</strong> + <strong>J</strong>: halve loop from end\n          </li>\n          <li>\n            <strong>Shift</strong> + <strong>F</strong>, <strong>Shift</strong> + <strong>K</strong>: double loop from end\n          </li>\n        </span>\n\n\n      </ul>\n\n      <hr />\n\n      <h3>DJin</h3>\n      <p>\n        was created by <a href='https://github.com/yapjinai'>Jin Ai Yap</a>.\n      </p>\n    </div>\n  );\n}\n\nexport default Info;\n","import React, { Component } from 'react';\nimport Info from '../presentational/Info';\nimport {keyboardShortcutsFunction} from '../keyboardShortcutsFunction'\n\nclass Help extends Component {\n  state = {\n    shown: false\n  }\n\n  render() {\n    this.setInfoVisibility()\n\n    return (\n      <div className=\"Help\">\n      <button\n      className='help'\n      onClick={this.handleClick}\n      >\n        ?\n      </button>\n\n      <Info />\n\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.clearHelpOnClick()\n    keyboardShortcutsFunction.bind(this)('help')\n  }\n\n  ///////////////////\n\n  setInfoVisibility = () => {\n    const button = document.querySelector('.help')\n    const info = document.querySelector('.Info')\n\n    if (button && info) {\n      if (this.state.shown) {\n        button.innerText = 'x'\n        info.classList.remove('hidden')\n      }\n      else {\n        button.innerText = '?'\n        info.classList.add('hidden')\n      }\n    }\n  }\n\n  handleClick = (e) => {\n    if (e) {\n      e.preventDefault()\n    }\n    if (this.state.shown) {\n      this.setState({\n        shown: false\n      })\n    }\n    else {\n      this.setState({\n        shown: true\n      })\n    }\n  }\n\n  clearHelpOnClick = () =>  {\n    const button = document.querySelector('.help')\n    const info = document.querySelector('.Info')\n\n    document.addEventListener('click', (e) => {\n      if (this.state.shown &&\n        e.target !== info &&\n        e.target !== button &&\n        e.target.parentElement !== info &&\n        e.target.parentElement !== button &&\n        e.target.parentElement.parentElement !== info &&\n        e.target.parentElement.parentElement !== button &&\n        e.target.parentElement.parentElement.parentElement !== info &&\n        e.target.parentElement.parentElement.parentElement !== button\n        // there is a better way i just dont know what it is yet...........\n      ) {\n        this.setState({\n          shown: false\n        })\n      }\n    })\n    document.addEventListener('keydown', (e) => {\n      if (e.key !== ' ') {\n        this.setState({\n          shown: false\n        })\n      }\n    })\n  }\n\n}\n\nexport default Help;\n","import React, { Component } from 'react';\nimport {keyboardShortcutsFunction} from '../keyboardShortcutsFunction'\n\nimport { connect } from 'react-redux'\nimport {\n  setBpm,\n  setCrossfade,\n  setPlaying,\n\n  setChannelState,\n\n  shiftFromQueue\n } from '../../actions'\n\nimport '../../css/MasterControls.css';\n\nimport MasterPlayPause from '../presentational/MasterPlayPause';\nimport Crossfader from '../presentational/Crossfader';\nimport Bpm from '../presentational/Bpm';\nimport Help from './Help';\n\nclass MasterControls extends Component {\n  render() {\n    return (\n      <span className=\"MasterControls\"\n       style={{display: 'flex'}}\n      >\n        <MasterPlayPause\n          togglePlaying={this.togglePlaying}\n          masterPlaying={this.masterPlaying}\n        />\n        <Crossfader\n          crossfade={this.props.crossfade}\n          setCrossfade={this.props.setCrossfade}\n        />\n        <Bpm\n          masterBpm={this.props.masterBpm}\n          setBpm={this.props.setBpm}\n        />\n        <Help/>\n      </span>\n    );\n  }\n\n  componentDidMount() {\n    keyboardShortcutsFunction.bind(this)('masterControls')\n  }\n\n  ////////////////////////\n\n  masterPlaying = () => {\n    return this.props.leftPlaying || this.props.rightPlaying\n  }\n\n  togglePlaying = () => {\n    if (this.masterPlaying()) {\n      this.props.setPlaying('left', false)\n      this.props.setPlaying('right', false)\n    }\n    else {\n      ['left', 'right'].forEach(s => {\n        if (this.props.channels[s].currentSong) {\n          this.props.setPlaying(s, true)\n        }\n        else if (this.props.queues[s][0]) {\n          this.props.setChannelState(s, 'playing', true)\n          const currentSong = this.props.queues[s][0]\n          this.props.shiftFromQueue(s)\n          this.props.setChannelState(s, 'currentSong', currentSong)\n        }\n      })\n    }\n  }\n}\n\n\nconst mapStateToProps = (state, ownProps) => ({\n  masterBpm: state.masterBpm,\n  crossfade: state.crossfade,\n  leftPlaying: state.channels.left.playing,\n  rightPlaying: state.channels.right.playing,\n\n  // Channel state\n  channels: state.channels,\n  queues: state.queues\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setBpm: (bpm) => dispatch(setBpm(bpm)),\n  setCrossfade: (crossfade) => dispatch(setCrossfade(crossfade)),\n\n  // Channel state setters\n  setChannelState: (side, key, newValue) => dispatch(setChannelState(side, key, newValue)),\n\n  shiftFromQueue: (side) => dispatch(shiftFromQueue(side)),\n  setPlaying: (side, play) => dispatch(setPlaying(side, play)),\n})\n\nconst connectedMasterControls = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MasterControls)\n\n\nexport default connectedMasterControls;\n","import React from 'react';\n\nconst BrowserSong = ({song, pushToQueue, browserFilterQuery, setBrowserFilterQuery}) => {\n  const handleClick = (e) => {\n    pushToQueue(e.target.name, song)\n  }\n\n  const clickSearch = (e) => {\n    if (browserFilterQuery !== e.target.innerHTML) {\n      setBrowserFilterQuery(e.target.innerHTML)\n    }\n    else {\n      setBrowserFilterQuery('')\n    }\n  }\n\n  return (\n    <tr\n      className=\"BrowserSong\"\n    >\n      <td className='queue'>\n        <button\n        name='left'\n        onClick={handleClick}\n        >\n        L\n        </button>\n        <button\n        name='right'\n        onClick={handleClick}\n        >\n        R\n        </button>\n      </td>\n      <td className='title'>\n        {song.title}\n      </td>\n      <td\n        className='artist'\n        onClick={clickSearch}\n      >\n        {song.artist}\n      </td>\n      <td className='bpm'>\n        {parseInt(song.bpm)}\n      </td>\n    </tr>\n  );\n}\n\nexport default BrowserSong;\n","import React, { Component } from 'react';\n\nimport { connect } from 'react-redux'\nimport {\n  setAllSongs,\n\n  // setBrowserFilterQuery,\n  setFilteredSongs,\n  setSortBy,\n  setReverseSort,\n\n  pushToQueue,\n} from '../../actions'\n\nimport '../../css/Browser.css';\nimport BrowserSong from '../presentational/BrowserSong';\n\nconst uuid = require('uuid/v4');\n// const apiUrl = 'http://localhost:3000'\nconst apiUrl = 'https://djin-api.herokuapp.com'\n\nclass Browser extends Component {\n  constructor() {\n    super()\n    this.state = {\n      browserFilterQuery: '',\n      tags: []\n    }\n  }\n\n  render() {\n    this.filterSongs()\n    this.sortSongs()\n\n    return (\n      <div className=\"Browser\">\n        <span className='filter'>\n          <div className='genres'>\n            <div className='genre pop'>\n              <label\n                htmlFor='pop'\n              >\n                Pop\n              </label>\n              <input\n                type='checkbox'\n                name='pop'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n            <div className='genre house'>\n              <label\n                htmlFor='house'\n              >\n                House\n              </label>\n              <input\n                type='checkbox'\n                name='house'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n            <div className='genre trap'>\n              <label\n                htmlFor='trap'\n              >\n                Trap\n              </label>\n              <input\n                type='checkbox'\n                name='trap'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n            <div className='genre rnb'>\n              <label\n                htmlFor='rnb'\n              >\n                R&B\n              </label>\n              <input\n                type='checkbox'\n                name='rnb'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n            <div className='genre hiphop'>\n              <label\n                htmlFor='hiphop'\n              >\n                Hip Hop\n              </label>\n              <input\n                type='checkbox'\n                name='hiphop'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n            <div className='genre weird'>\n              <label\n                htmlFor='weird'\n              >\n                Weird\n              </label>\n              <input\n                type='checkbox'\n                name='weird'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n            <div className='genre beat'>\n              <label\n                htmlFor='beat'\n              >\n                Beat-heavy\n              </label>\n              <input\n                type='checkbox'\n                name='beat'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n            <div className='genre flatiron'>\n              <label\n                htmlFor='flatiron'\n              >\n                :)\n              </label>\n              <input\n                type='checkbox'\n                name='flatiron'\n                onChange={this.handleCheckboxChange}\n              />\n            </div>\n          </div>\n\n            <input\n              type='text'\n              placeholder='Search'\n              value={this.state.browserFilterQuery}\n              onChange={this.handleChange}\n            />\n\n          <button\n            onClick={this.clearQueries}\n          >\n            Clear\n          </button>\n        </span>\n\n        <table>\n          <thead>\n            <tr>\n              <th\n                id='queue'\n              >\n                Queue\n              </th>\n              <th\n                id='title'\n                className={this.sortByClass('title')}\n                onClick={this.handleClick}\n              >\n                Title\n              </th>\n              <th\n                id='artist'\n                className={this.sortByClass('artist')}\n                onClick={this.handleClick}\n              >\n                Artist\n              </th>\n              <th\n                id='bpm'\n                className={this.sortByClass('bpm')}\n                onClick={this.handleClick}\n              >\n                BPM\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.renderAllSongs()}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.fetchAllSongs()\n  }\n\n/////////////////////////\n\n  fetchAllSongs = () => {\n    fetch(`${apiUrl}/songs`)\n    .then(songs => songs.json())\n    .then(songs => {\n      fetch(`${apiUrl}/uploaded_songs`)\n      .then(uploaded => uploaded.json())\n      .then(uploaded => {\n        this.props.setAllSongs(songs.concat(uploaded))\n      })\n    })\n  }\n\n  renderAllSongs = () => {\n    return this.props.filteredSongs.map(s => {\n      return (\n        <BrowserSong\n          song={s}\n          key={uuid()}\n          pushToQueue={this.props.pushToQueue}\n          setBrowserFilterQuery={this.setBrowserFilterQuery}\n          browserFilterQuery={this.state.browserFilterQuery}\n        />\n      )\n    })\n  }\n\n  //////////////////////\n  // FILTER\n\n  handleChange = (e) => {\n    this.setBrowserFilterQuery(e.target.value)\n  }\n\n  handleCheckboxChange = (e) => {\n    if (e.target.checked) {\n      const newTags = [...this.state.tags]\n      newTags.push(e.target.name)\n      this.setState({\n        tags: newTags\n      })\n    }\n    else {\n      const newTags = this.state.tags.filter(g => g !== e.target.name)\n      this.setState({\n        tags: newTags\n      })\n    }\n  }\n\n  setBrowserFilterQuery = (query) => {\n    this.setState({\n      browserFilterQuery: query\n    })\n  }\n\n  clearQueries = () => {\n    this.setBrowserFilterQuery('')\n    this.setState({\n      tags: []\n    })\n    document.querySelectorAll('[type=checkbox]').forEach(c => {\n      c.checked = false\n    })\n  }\n\n  filterSongs = () => {\n    const newSongs = this.props.allSongs.filter(s => {\n      const query = this.state.browserFilterQuery.toLowerCase().split(' ').join('')\n      const title = s.title.toLowerCase().split(' ').join('')\n      const artist = s.artist.toLowerCase().split(' ').join('')\n      const tags = s.tags\n\n      let matchesTags = true\n      this.state.tags.forEach(t => {\n        if (!tags.includes(t)) {\n          matchesTags = false\n        }\n      })\n\n      return (\n        (title.includes(query) || artist.includes(query)) &&\n        matchesTags)\n    })\n\n    if (this.props.filteredSongs.length !== newSongs.length) {\n      this.props.setFilteredSongs(newSongs)\n    }\n  }\n\n  //////////////\n  // SORT\n  sortSongs = () => {\n    const sortBy = this.props.sortBy\n    const sortedSongs = this.props.filteredSongs.sort((a, b) => {\n      const paramA = a[sortBy]\n      const paramB = b[sortBy]\n      if (sortBy === 'bpm') { // sort numerically\n        return paramA - paramB\n      }\n      else { // sort alphabetically\n        return paramA.toLowerCase().localeCompare(paramB.toLowerCase())\n      }\n    })\n\n    let newSongs = sortedSongs\n    if (this.props.reverseSort) {\n      newSongs = sortedSongs.reverse()\n    }\n\n    if (this.props.filteredSongs !== newSongs) {\n      this.props.setFilteredSongs(newSongs)\n    }\n  }\n\n  sortByClass = (param) => { // to add CSS class\n    if (this.props.sortBy === param) {\n      return 'sortedBy'\n    }\n    else {\n      return null\n    }\n  }\n\n  handleClick = (e) => {\n    if (this.props.sortBy !== e.target.id) { // if filtering by different param\n      this.props.setSortBy(e.target.id)\n      this.props.setReverseSort(false)\n    }\n    else { // toggle between high-low and low-high\n      this.props.setReverseSort(!this.props.reverseSort)\n    }\n  }\n}\n\n\nconst mapStateToProps = (state, ownProps) => ({\n  allSongs: state.allSongs,\n\n  filteredSongs: state.filteredSongs,\n  // browserFilterQuery: state.browserFilterQuery,\n  sortBy: state.sortBy,\n  reverseSort: state.reverseSort,\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setAllSongs: (allSongs) => dispatch(setAllSongs(allSongs)),\n\n  setFilteredSongs: (filteredSongs) => dispatch(setFilteredSongs(filteredSongs)),\n  // setBrowserFilterQuery: (browserFilterQuery) => dispatch(setBrowserFilterQuery(browserFilterQuery)),\n  setSortBy: (sortBy) => dispatch(setSortBy(sortBy)),\n  setReverseSort: (reverseSort) => dispatch(setReverseSort(reverseSort)),\n\n  pushToQueue: (side, song) => dispatch(pushToQueue(side, song)),\n})\n\nconst connectedBrowser = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Browser)\n\n\nexport default connectedBrowser;\n","import React, { Component } from 'react';\nimport '../../css/Master.css';\n\nimport MasterControls from './MasterControls';\nimport Browser from './Browser';\n// import Upload from './Upload';\n\nclass Master extends Component {\n  render() {\n    return (\n      <div className=\"Master\"\n       style={{display: 'flex'}}\n      >\n        <MasterControls\n        />\n        <Browser\n          // methods to change App state\n          pushToQueue={this.props.pushToQueue}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Master;\n\n// <Upload\n// />\n","import React, { Component } from 'react';\nimport '../../css/App.css';\n\nimport Channel from './Channel';\nimport Master from './Master';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Channel side='left' />\n        <Master />\n        <Channel side='right' />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const masterBpm = (state = 0, action) => {\n  switch (action.type) {\n    case 'SET_BPM':\n      return action.bpm\n      // return 5\n    default:\n      return state\n  }\n}\n\nexport default masterBpm\n","const crossfade = (state = 0, action) => {\n  switch (action.type) {\n    case 'SET_CROSSFADE':\n      return action.crossfade\n    default:\n      return state\n  }\n}\n\nexport default crossfade\n","const allSongs = (state = [], action) => {\n  switch (action.type) {\n    case 'SET_ALL_SONGS':\n      return action.allSongs\n    default:\n      return state\n  }\n}\n\nexport default allSongs\n","const filteredSongs = (state = [], action) => {\n  switch (action.type) {\n    case 'SET_FILTERED_SONGS':\n      return action.filteredSongs\n    default:\n      return state\n  }\n}\n\nexport default filteredSongs\n","const sortBy = (state = 'bpm', action) => {\n  switch (action.type) {\n    case 'SET_SORT_BY':\n      return action.sortBy\n    default:\n      return state\n  }\n}\n\nexport default sortBy\n","const reverseSort = (state = false, action) => {\n  switch (action.type) {\n    case 'SET_REVERSE_SORT':\n      return action.reverseSort\n    default:\n      return state\n  }\n}\n\nexport default reverseSort\n","const defaultQueues = {\n  left: [],\n  right: []\n}\n\nconst queues = (state = defaultQueues, action) => {\n  switch (action.type) {\n    case 'SET_SIDE_QUEUE':\n      const newState = {...state}\n      newState[action.side] = action.queue\n      return newState\n\n    case 'PUSH_TO_QUEUE':\n      if (state[action.side].includes(action.song)) {\n        return state\n      }\n      else {\n        let pushedNewState = {...state}\n        let pushedSideQueue = [...state[action.side]]\n        pushedSideQueue.push(action.song)\n\n        pushedNewState[action.side] = pushedSideQueue\n        return pushedNewState\n      }\n\n    case 'SHIFT_FROM_QUEUE':\n      const shiftedNewState = {...state}\n      let shiftedSideQueue = [...state[action.side]]\n      shiftedSideQueue.shift()\n\n      shiftedNewState[action.side] = shiftedSideQueue\n      return shiftedNewState\n\n    default:\n      return state\n  }\n}\n\nexport default queues\n","const defaultChannel = {\n  currentSong: null,\n  // currentSong: {\n  //   id: 106,\n  //   title: \"Super Natural\",\n  //   artist: \"Carly Rae Jepsen\",\n  //   bpm: 128,\n  //   url: \"http://localhost:3001/SuperNatural.mp3\",\n  // },\n  playing: false,\n\n  volume: 0.5,\n  bpmFactor: 1,\n\n  calculatedVolume: .5,\n  calculatedAudioRate: 1,\n\n  pitchShift: true,\n  loop: false,\n}\n\nconst defaultChannels = {\n  left: {...defaultChannel},\n  right: {...defaultChannel}\n}\n\nconst channels = (state = defaultChannels, action) => {\n\n  switch (action.type) {\n    case 'SET_CHANNEL_STATE':\n      return ({...state,\n        [action.side]: {...state[action.side],\n          [action.key]: action.newValue\n        }\n      })\n\n    case 'SET_PLAYING':\n      return ({...state,\n        [action.side]: {...state[action.side],\n          playing: action.playing\n        }\n      })\n\n    default:\n      return state\n  }\n}\n\nexport default channels\n","const defaultWaveform = {\n  pos: 0,\n  waveformOptions: {\n    // changed in Waveform.js\n    audioRate: 1,\n    // backend: 'MediaElement',\n    backend: 'WebAudio',\n\n    // these do not change\n    height: 128,\n    fillParent: false,\n    scrollParent: true,\n    interact: true,\n  },\n  regions: {\n    loop: {\n      id: 'loop',\n      start: 0,\n      end: 4,\n      loop: false,\n      color: 'rgba(0,0,225,.1)',\n    }\n  }\n}\n\nconst defaultWaveforms = {\n  left: {...defaultWaveform},\n  right: {...defaultWaveform}\n}\n\nconst waveforms = (state = defaultWaveforms, action) => {\n  switch (action.type) {\n    case 'REVERT_TO_DEFAULT':\n    return defaultWaveforms\n\n    case 'SET_POS':\n    return ({...state,\n      [action.side]: {...state[action.side],\n        pos: action.pos\n      }\n    })\n\n    case 'SET_WAVEFORM_STATE':\n      return ({...state,\n        [action.side]: {...state[action.side],\n          waveformOptions: {...state[action.side].waveformOptions,\n            [action.key]: action.newValue\n          }\n        }\n      })\n\n    case 'SET_REGIONS_STATE':\n      return ({...state,\n        [action.side]: {...state[action.side],\n          regions: {\n            loop: {...state[action.side].regions.loop,\n              [action.key]: action.newValue\n            }\n          }\n        }\n      })\n\n    default:\n      return state\n  }\n}\n\nexport default waveforms\n","import { combineReducers } from 'redux'\n\nimport masterBpm from './masterBpm'\nimport crossfade from './crossfade'\n\nimport allSongs from './allSongs'\nimport filteredSongs from './filteredSongs'\n// import browserFilterQuery from './browserFilterQuery'\nimport sortBy from './sortBy'\nimport reverseSort from './reverseSort'\n\nimport queues from './queues'\nimport channels from './channels'\nimport waveforms from './waveforms'\n\nexport default combineReducers({\n  masterBpm,\n  crossfade,\n\n  allSongs,\n  filteredSongs,\n  // browserFilterQuery,\n\n  sortBy,\n  reverseSort,\n\n  queues,\n  channels,\n  waveforms,\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/container/App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport rootReducer from './reducers'\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}